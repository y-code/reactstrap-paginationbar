{"version":3,"file":"reactstrap-paginationbar.es.js","sources":["../src/Paginationbar.js"],"sourcesContent":["import React from 'react'\nimport Reactstrap from 'reactstrap'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\n\nconst propTypes = {\n  totalItems: PropTypes.number,\n  pageSize: PropTypes.number,\n  first: PropTypes.number,\n  current: PropTypes.number,\n  onTurnPage: PropTypes.func,\n}\n\nconst defaultProps = {\n  totalItems: 0,\n  pageSize: 10,\n  first: 1,\n  current: 0,\n  onTurnPage: (page, fromItem, toItem) => {},\n}\n\nclass Paginationbar extends React.Component {\n  constructor(props) {\n    super(props)\n    this.firstPage = this.props.first\n    this.lastPage = getLastPage(props.first, props.totalItems, props.pageSize)\n    this.state = {\n      current: props.current || this.props.first\n    }\n  }\n\n  componentDidMount() {\n    this.triggerTurnPage(this.state.current, this.props)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.current && nextProps.current !== this.state.current) {\n      this.setState({\n        current: nextProps.current\n      })\n    }\n    if (nextProps.first !== this.props.first\n      || nextProps.totalItems !== this.props.totalItems\n      || nextProps.pageSize !== this.props.pageSize) {\n        // this.setState({\n        //   current: this.props.first\n        // })\n        this.lastPage = getLastPage(nextProps.first, nextProps.totalItems, nextProps.pageSize)\n        this.triggerTurnPage(this.props.first, nextProps)\n      }\n  }\n\n  handleGoTo(page) {\n    if (page === this.state.current)\n      return\n\n    this.triggerTurnPage(page, this.props)\n  }\n\n  triggerTurnPage(page, props) {\n    this.setState({\n      current: page\n    })\n\n    const {\n      totalItems,\n      pageSize,\n    } = props\n    const fromItem = pageSize * (page - 1)\n    const toItem = Math.min(pageSize * page - 1, totalItems - 1)\n    this.props.onTurnPage(page, fromItem, toItem)\n  }\n\n  render() {\n    const {\n      totalItems,\n      pageSize,\n      className,\n      listClassName,\n      cssModule,\n      size,\n      tag,\n      listTag,\n      'aria-label': label,\n    } = this.props\n\n    const currentPage = this.state.current\n    const firstPage = this.props.first\n    const lastPage = this.lastPage\n    const previousPage = currentPage > firstPage ? currentPage - 1 : firstPage\n    const nextPage = currentPage < lastPage ? currentPage + 1 : lastPage\n\n    return (\n      <Reactstrap.Pagination {...{className, listClassName, cssModule, size, tag, listTag, 'aria-label': label}}>\n        <Reactstrap.PaginationItem onClick={() => this.handleGoTo(firstPage)} disabled={firstPage === currentPage}>\n          <Reactstrap.PaginationLink first />\n        </Reactstrap.PaginationItem>\n        <Reactstrap.PaginationItem onClick={() => this.handleGoTo(previousPage)} disabled={previousPage === currentPage}>\n          <Reactstrap.PaginationLink previous />\n        </Reactstrap.PaginationItem>\n        {this.renderPages(currentPage, firstPage, lastPage)}\n        <Reactstrap.PaginationItem onClick={() => this.handleGoTo(nextPage)} disabled={nextPage === currentPage}>\n          <Reactstrap.PaginationLink next />\n        </Reactstrap.PaginationItem>\n        <Reactstrap.PaginationItem onClick={() => this.handleGoTo(lastPage)} disabled={lastPage === currentPage}>\n          <Reactstrap.PaginationLink last />\n        </Reactstrap.PaginationItem>\n      </Reactstrap.Pagination>\n    )\n  }\n\n  renderPages(currentPage, firstPage, lastPage) {\n    let pages = []\n    for (let i = firstPage; i <= lastPage; i++) {\n      pages.push(\n        <Reactstrap.PaginationItem\n          key={`page-${i}`}\n          onClick={() => this.handleGoTo(i)}\n          active={i === currentPage}\n        >\n          <Reactstrap.PaginationLink>\n            {i}\n          </Reactstrap.PaginationLink>\n        </Reactstrap.PaginationItem>\n      )\n    }\n    return pages\n  }\n}\n\nlet getLastPage = (firstPage, totalItems, pageSize) => ( totalItems ? Math.floor(totalItems / pageSize) + !!(totalItems % pageSize) + (firstPage - 1) : firstPage )\n\nPaginationbar.propTypes = propTypes\nPaginationbar.defaultProps = defaultProps\n\nexport default Paginationbar\n"],"names":["propTypes","totalItems","PropTypes","number","pageSize","first","current","onTurnPage","func","defaultProps","page","fromItem","toItem","Paginationbar","props","firstPage","lastPage","getLastPage","state","componentDidMount","triggerTurnPage","componentWillReceiveProps","nextProps","setState","handleGoTo","Math","min","render","className","listClassName","cssModule","size","tag","listTag","label","currentPage","previousPage","nextPage","renderPages","pages","i","push","React","Component","floor"],"mappings":"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"}
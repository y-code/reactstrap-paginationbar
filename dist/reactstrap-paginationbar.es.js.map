{"version":3,"file":"reactstrap-paginationbar.es.js","sources":["../src/Paginationbar.js"],"sourcesContent":["import React from 'react'\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap'\nimport PropTypes from 'prop-types'\n\nconst propTypes = {\n  totalItems: PropTypes.number,\n  pageSize: PropTypes.number,\n  first: PropTypes.number,\n  current: PropTypes.number,\n  visibility: PropTypes.number,\n  ellipsis: PropTypes.bool,\n  onTurnPage: PropTypes.func,\n}\n\nconst defaultProps = {\n  totalItems: 0,\n  pageSize: 10,\n  first: 1,\n  current: 0,\n  visibility: 3,\n  ellipsis: true,\n  onTurnPage: (page, fromItem, toItem) => {},\n}\n\nclass Paginationbar extends React.Component {\n  constructor(props) {\n    super(props)\n    this.firstPage = this.props.first\n    this.lastPage = getLastPage(props.first, props.totalItems, props.pageSize)\n    this.state = {\n      current: props.current || this.props.first\n    }\n  }\n\n  componentDidMount() {\n    this.triggerTurnPage(this.state.current, this.props)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.current && nextProps.current !== this.state.current) {\n      this.setState({\n        current: nextProps.current\n      })\n    }\n    if (nextProps.first !== this.props.first\n      || nextProps.totalItems !== this.props.totalItems\n      || nextProps.pageSize !== this.props.pageSize) {\n        this.lastPage = getLastPage(nextProps.first, nextProps.totalItems, nextProps.pageSize)\n        this.triggerTurnPage(nextProps.first, nextProps)\n      }\n  }\n\n  handleGoTo(page) {\n    if (page === this.state.current)\n      return\n\n    this.triggerTurnPage(page, this.props)\n  }\n\n  triggerTurnPage(page, props) {\n    this.setState({\n      current: page\n    })\n\n    const {\n      totalItems,\n      pageSize,\n    } = props\n    const fromItem = pageSize * (page - 1)\n    const toItem = Math.min(pageSize * page - 1, totalItems - 1)\n    this.props.onTurnPage(page, fromItem, toItem)\n  }\n\n  render() {\n    const {\n      className,\n      listClassName,\n      cssModule,\n      size,\n      tag,\n      listTag,\n      'aria-label': label,\n    } = this.props\n\n    const currentPage = this.state.current\n    const firstPage = this.props.first\n    const lastPage = this.lastPage\n    const previousPage = currentPage > firstPage ? currentPage - 1 : firstPage\n    const nextPage = currentPage < lastPage ? currentPage + 1 : lastPage\n\n    return (\n      <Pagination {...{className, listClassName, cssModule, size, tag, listTag, 'aria-label': label}}>\n        <PaginationItem onClick={() => this.handleGoTo(firstPage)} disabled={firstPage === currentPage}>\n          <PaginationLink first />\n        </PaginationItem>\n        <PaginationItem onClick={() => this.handleGoTo(previousPage)} disabled={previousPage === currentPage}>\n          <PaginationLink previous />\n        </PaginationItem>\n        {this.renderPages(currentPage, firstPage, lastPage)}\n        <PaginationItem onClick={() => this.handleGoTo(nextPage)} disabled={nextPage === currentPage}>\n          <PaginationLink next />\n        </PaginationItem>\n        <PaginationItem onClick={() => this.handleGoTo(lastPage)} disabled={lastPage === currentPage}>\n          <PaginationLink last />\n        </PaginationItem>\n      </Pagination>\n    )\n  }\n\n  renderPages(currentPage, firstPage, lastPage) {\n    const {\n      visibility,\n      ellipsis,\n    } = this.props\n    let pages = []\n    let visibleFirstPage, visibleLastPage\n    let hasPreviousEllipsis = false\n    let hasNextEllipsis = false\n\n    if (!visibility) {\n      visibleFirstPage = firstPage\n      visibleLastPage = lastPage\n    } else if (lastPage < visibility * 2) {\n      visibleFirstPage = firstPage\n      visibleLastPage = lastPage\n    } else if (currentPage < visibility + 1) {\n      visibleFirstPage = firstPage\n      visibleLastPage = firstPage + (visibility - 1) * 2 + (ellipsis ? 1 : 0)\n      hasPreviousEllipsis = false\n      hasNextEllipsis = true\n      } else if (currentPage > lastPage - visibility) {\n      visibleFirstPage = lastPage - (visibility - 1) * 2 + (ellipsis ? -1 : 0)\n      visibleLastPage = lastPage\n      hasPreviousEllipsis = true\n      hasNextEllipsis = false\n      } else {\n      visibleFirstPage = currentPage - visibility + 1\n      visibleLastPage = currentPage + visibility - 1\n      hasPreviousEllipsis = true\n      hasNextEllipsis = true\n      }\n\n    if (ellipsis && hasPreviousEllipsis)\n      pages.push(\n        <PaginationItem\n          key={`page-previous-ellipsis`}\n          disabled\n        >\n          <PaginationLink>\n            &hellip;\n          </PaginationLink>\n        </PaginationItem>\n      )\n\n    for (let i = visibleFirstPage; i <= visibleLastPage; i++)\n      pages.push(\n        <PaginationItem\n          key={`page-${i}`}\n          onClick={() => this.handleGoTo(i)}\n          active={i === currentPage}\n        >\n          <PaginationLink>\n            {i}\n          </PaginationLink>\n        </PaginationItem>\n      )\n\n    if (ellipsis && hasNextEllipsis)\n      pages.push(\n        <PaginationItem\n          key={`page-next-ellipsis`}\n          disabled\n        >\n          <PaginationLink>\n            &hellip;\n          </PaginationLink>\n        </PaginationItem>\n      )\n\n    return pages\n  }\n}\n\nlet getLastPage = (firstPage, totalItems, pageSize) => ( totalItems ? Math.floor(totalItems / pageSize) + !!(totalItems % pageSize) + (firstPage - 1) : firstPage )\n\nPaginationbar.propTypes = propTypes\nPaginationbar.defaultProps = defaultProps\n\nexport default Paginationbar\n"],"names":["propTypes","totalItems","PropTypes","number","pageSize","first","current","visibility","ellipsis","bool","onTurnPage","func","defaultProps","page","fromItem","toItem","Paginationbar","props","firstPage","lastPage","getLastPage","state","componentDidMount","triggerTurnPage","componentWillReceiveProps","nextProps","setState","handleGoTo","Math","min","render","className","listClassName","cssModule","size","tag","listTag","label","currentPage","previousPage","nextPage","renderPages","pages","visibleFirstPage","visibleLastPage","hasPreviousEllipsis","hasNextEllipsis","push","i","React","Component","floor"],"mappings":"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"}